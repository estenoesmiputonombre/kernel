# Schema

ct = Connection tracking

```
                                       PREROUTING                           INPUT
 -----------       ---------------------------------------------       --------------------------        -------------
|           |     |                                             |     |                          |      |             | 
|           |     |  -----      -----      --------      -----  |     |  --------      --------  |      |             |
|           | ----|>| raw | -> | ct* | -> | mangle | -> | nat | | --- |>| mangle | -> | filter |-| ---> |             |
|           |     |  -----      -----      --------      -----  |     |  --------      --------  |      |             |
|           |     |                                         |   |     |                          |      |             |
|           |      ---------------------------------------------       --------------------------       |             |
|           |                                               |                                           |             |
|           |                                               |                                           |             |
|           |                                        ---------------                                    |             |
|           |                                       |       v       |                                   |             |
|           |                                       |    --------   |                                   |             |
|           |                                       |   | mangle |  |                                   |             |
|           |                                       |    --------   |                                   |             |
| network   |                                       |       |       | FORWARD                           |    Local    |
|           |                                       |       v       |                                   |             |
| interface |                                       |    --------   |                                   |   Process   |
|           |                                       |   | filter |  |                                   |             |
|           |                                       |    --------   |                                   |             |
|           |                                       |       |       |                                   |             |
|           |                                        ---------------                                    |             |
|           |                                               |                                           |             |
|           |               --------------------------------                                            |             |
|           |              v                                                                            |             |
|           |   ------------------------   ----------------------------------------------------------   |             |
|           |  |                        | |                                                          |  |             |
|           |  |  -----      --------   | |  --------      -----      --------      -----      ----- |  |             |
|           |<-|-| nat | <- | mangle | <|-|-| filter | <- | nat | <- | mangle | <- | ct* | <- | raw ||<-|             |
|           |  |  -----      --------   | |  --------      -----      --------      -----      ----- |  |             |
|           |  |                        | |                                                          |  |             |
|           |   ------------------------   ----------------------------------------------------------   |             |
 -----------          POSTROUTING                                   OUTPUT                               -------------  
```
